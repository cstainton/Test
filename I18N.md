# Internationalization (i18n) in Verrai

## Current Status
As of the current version, Verrai **does not** include a built-in internationalization framework. This is a known gap compared to frameworks like Errai (which provides `@Bundle` and `TranslationService`).

## Proposed Architecture
The plan for adding i18n support involves the following components:

### 1. Translation Bundles
We aim to support JSON-based translation files located in the classpath (e.g., `src/main/resources/i18n/AppMessages.json`).

```json
{
  "welcome.message": "Welcome to Verrai",
  "login.button": "Sign In"
}
```

### 2. Annotation Processor Integration
A new processor will be responsible for:
*   Scanning `@Templated` files for `data-i18n` attributes.
*   Scanning Java code for `@TranslationKey` annotations.
*   Generating a client-side `TranslationService` implementation that contains the dictionary for the active locale.

### 3. Usage in Templates
```html
<h1 data-i18n="welcome.message">Welcome</h1>
<button data-i18n="login.button">Login</button>
```
The `TemplatedProcessor` will be updated to replace the inner text of these elements with the translated value at runtime.

### 4. Programmatic Usage
```java
@Inject
TranslationService i18n;

public void onLogin() {
    Window.alert(i18n.format("welcome.message"));
}
```

## Roadmap
1.  Define the `TranslationService` API in `verrai-api`.
2.  Implement a JSON parser compatible with TeaVM.
3.  Update `TemplatedProcessor` to handle `data-i18n`.
4.  Create a build-time tool to aggregate translation keys.
